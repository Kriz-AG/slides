<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Blocking JS</title>
	<script>

	function sleep(ms) {
		var now = Date.now();

		while (Date.now() - now < 2000) {

		}
	}

	</script>

	<style>

	.spinner {
		border: 10px solid rebeccapurple;
		border-right-color: transparent;
		width: 50px;
		height: 50px;
		position: absolute;
		top: 0;
		bottom: 0;
		left: 0;
		right: 0;
		margin: auto;
		border-radius: 50%;
		z-index: 1;
	}

	button {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		display: block;
		width: 50px;
		height: 20px;
		margin: auto;
		z-index: 2;
	}

	</style>
</head>
<body>
	<button onclick="sleep(3000)">sleep</button>
	<div class="spinner"></div>
	<script>

	var spinner = document.querySelector('.spinner');
	var angle = 0;

	function animate() {
		angle += 16;
		angle = angle > 360 ? angle - 360 : angle;

		spinner.style.transform = `rotate(${angle}deg)`;
		requestAnimationFrame(animate);
	}

	animate();
	</script>
</body>
</html>
